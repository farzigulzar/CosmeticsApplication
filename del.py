import base64
import json
import io
import matplotlib.pyplot as plt
from PIL import Image

def decode_image_from_data_url(data_url):
    # Split the data URL into header and base64 encoded image data
    header, encoded = data_url.split(',', 1)
    
    # Extract the image format from the header
    format_str = header.split(';')[0].split('/')[-1]
    
    # Decode base64 data
    decoded = base64.b64decode(encoded)
    
    # Create a BytesIO object to hold the decoded image data
    image_buffer = io.BytesIO(decoded)
    
    # Open the image using PIL
    image = Image.open(image_buffer)
    
    return image, format_str

def show_image(image):
    # Display the image using matplotlib
    plt.imshow(image)
    plt.axis('off')  # Hide axis
    plt.show()

def main():
    # Example JSON data containing data URL base64 encoded image
    json_data = '{"imageData": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAMACAYAAAC7Pv2VAAAgAElEQVR4XuydB3gVZbW7Nz/xB3VndwXcA3cB3AHdAFwDdwF2BXcDdwDdwF3AHdAVwB3AHcAXAHcAXAF3AXcA3AF3AFcAdwDdAHcB3AHdAFcAdwB3AHcAXAHcA3AF3AHcAXAF3AHcB3AHdAVwB3AHcA3AF3AHcAXAHcAXAF3AXcB3AHdAHcAdwF2BXcDdwDdwF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AXcA3AHdAFwB3AHdAFwB3AHcAXAHcA3AF3AHcAXAF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AHcAXAHcAXAF3AHcAXAHcA3AF3AHcAdwF2BXcA3AF3AH}'
    show_image(decode_image_from_data_url(json_data['imageData']))


main()